{"is_source_file": true, "format": "JavaScript", "description": "This file exports an API client that interacts with backend endpoints, providing functions for fetching recommendations, saving recommendations, giving feedback, fetching analytics, and generating personas. It includes fallback logic to use mockApi when backend calls fail.", "external_files": ["../mock/mockApi"], "external_methods": ["mockApi.getRecommendations", "mockApi.saveRecommendation", "mockApi.giveFeedback", "mockApi.getAnalytics", "mockApi.generatePersona"], "published": ["api"], "classes": [], "methods": [{"name": "postJson(path, body)", "description": "A helper function that performs a POST request with JSON payload, includes a timeout, and parses the JSON response.", "scope": "", "scopeKind": ""}, {"name": "getRecommendations(payload)", "description": "Fetches recommendations from backend; falls back to mockApi on failure.", "scope": "api", "scopeKind": "class"}, {"name": "saveRecommendation(item)", "description": "Saves a recommendation to backend; falls back to mockApi on failure.", "scope": "api", "scopeKind": "class"}, {"name": "giveFeedback(activityId, value, activityTitle = '', comment = '', rating = 0)", "description": "Submits feedback for an activity; falls back to mockApi on failure.", "scope": "api", "scopeKind": "class"}, {"name": "getAnalytics(range = '4w')", "description": "Retrieves analytics data from backend; falls back to mockApi on failure.", "scope": "api", "scopeKind": "class"}, {"name": "generatePersona(team, quiz, context = { useCase: 'dashboard', locale: 'en-US' })", "description": "Generates a persona based on team and quiz data; falls back to mockApi on failure.", "scope": "api", "scopeKind": "class"}], "calls": ["fetch", "clearTimeout", "setTimeout", "postJson"], "search-terms": ["api client", "recommendations", "fallback", "mockApi", "generatePersona", "getAnalytics"], "state": 2, "file_id": 24, "knowledge_revision": 147, "git_revision": "cc4f8b74c3d68f6c49b3db1b4cf2aef774662d90", "revision_history": [{"51": ""}, {"69": "d35508435f254404c184c745e870f47cd83f6fb4"}, {"122": "fd92542c24dc9d6868faf0322c5b3c86ce04c9ed"}, {"147": "cc4f8b74c3d68f6c49b3db1b4cf2aef774662d90"}], "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^const BASE_URL =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "generatePersona", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^  async generatePersona(team, quiz, context = { useCase: 'dashboard', locale: 'en-US' }) {$/", "language": "JavaScript", "kind": "method", "signature": "(team, quiz, context = { useCase: 'dashboard', locale: 'en-US' })", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getAnalytics", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^  async getAnalytics(range = '4w') {$/", "language": "JavaScript", "kind": "method", "signature": "(range = '4w')", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getRecommendations", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^  async getRecommendations(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "giveFeedback", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^  async giveFeedback(activityId, value, activityTitle = '', comment = '', rating = 0) {$/", "language": "JavaScript", "kind": "method", "signature": "(activityId, value, activityTitle = '', comment = '', rating = 0)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "postJson", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^async function postJson(path, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body)"}, {"_type": "tag", "name": "saveRecommendation", "path": "/home/kavia/workspace/code-generation/teamsync-engage-182304-182313/team_sync_frontend/src/services/api.js", "pattern": "/^  async saveRecommendation(item) {$/", "language": "JavaScript", "kind": "method", "signature": "(item)", "scope": "api", "scopeKind": "class"}], "hash": "3670ecfda2d7e3d442435ab8d3c2ef21", "format-version": 4, "code-base-name": "team_sync_frontend", "filename": "team_sync_frontend/src/services/api.js"}