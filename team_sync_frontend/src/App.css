/* Brand Refresh theme base + component utilities */
/* Fonts: Satoshi (body) and Outfit (headings) via local host with display swap.
   Note: We include a CSS @font-face for Satoshi (system-friendly fallback),
   and load Outfit from Google Fonts. */
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@500;600;700;800&display=swap');

/* Self-hosted-like Satoshi fallback via generic family mapping */
@font-face {
  font-family: "Satoshi";
  src: local("Satoshi-Regular"), local("Satoshi");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Satoshi";
  src: local("Satoshi-Medium"), local("Satoshi");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Satoshi";
  src: local("Satoshi-Bold"), local("Satoshi");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Variables */
:root {
  /* Light Palette (Ocean Professional) */
  --ts-primary: #2BD9C9;
  --ts-primary-600: #22c9ba;
  --ts-primary-700: #19b5a7;
  --ts-secondary: #7D83FF;
  --ts-secondary-600: #6b72ff;
  --ts-bg: #F8FAFC;
  --ts-surface: #ffffff;
  --ts-text: #111827; /* closer to style guide text */
  --ts-text-muted: rgba(17,24,39,0.72);
  --ts-error: #EF4444;
  --ts-border: #e6e8ec;

  /* Effects */
  --ts-shadow-sm: 0 4px 12px rgba(2, 8, 23, 0.06);
  --ts-shadow: 0 12px 30px rgba(2, 8, 23, 0.08);
  --ts-glass: linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.55));
  --ts-glass-border: rgba(255,255,255,0.6);

  /* Radius */
  --ts-radius: 16px;
  --ts-radius-2xl: 20px;

  /* Focus */
  --ts-focus: 0 0 0 3px rgba(43,217,201,0.35);

  /* Gradients */
  --ts-hero-gradient:
    radial-gradient(1200px 500px at 0% -10%, rgba(125,131,255,0.18), transparent 60%),
    radial-gradient(1000px 450px at 100% -20%, rgba(43,217,201,0.22), transparent 55%),
    linear-gradient(180deg, #F8FAFC, #F8FAFC);
}

/* Dark theme variables */
:root[data-theme='dark'] {
  --ts-bg: #0b1220;           /* rich navy */
  --ts-surface: #0f172a;      /* slate-900 */
  --ts-text: #e5e7eb;         /* gray-200 */
  --ts-text-muted: rgba(229,231,235,0.72);
  --ts-border: #1f2a44;       /* softened border for dark */
  --ts-primary: #22d3ee;      /* cyan-400 for better dark contrast */
  --ts-primary-600: #06b6d4;  /* cyan-500 */
  --ts-primary-700: #0891b2;  /* cyan-600 */
  --ts-secondary: #60a5fa;    /* blue-400 */
  --ts-secondary-600: #3b82f6;/* blue-500 */
  --ts-error: #f87171;

  --ts-shadow-sm: 0 4px 12px rgba(0,0,0,0.45);
  --ts-shadow: 0 18px 40px rgba(0,0,0,0.5);

  /* Glass surfaces adapt to dark */
  --ts-glass: linear-gradient(180deg, rgba(15,23,42,0.86), rgba(15,23,42,0.72));
  --ts-glass-border: rgba(99,102,241,0.25);

  /* Gradients adapt to darker base */
  --ts-hero-gradient:
    radial-gradient(1200px 500px at 0% -10%, rgba(96,165,250,0.20), transparent 60%),
    radial-gradient(1000px 450px at 100% -20%, rgba(34,211,238,0.20), transparent 55%),
    linear-gradient(180deg, #0b1220, #0b1220);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  background: var(--ts-bg);
  color: var(--ts-text);
  font-family: "Satoshi", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: var(--ts-secondary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* Page wrapper default */
.App { min-height: 100vh; }

/* Page fade classes used on route changes */
.page-transition {
  opacity: 0;
  transform: translateY(6px);
}
.page-enter {
  opacity: 0;
  transform: translateY(6px);
}
.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity .25s ease, transform .25s ease;
}
.page-exit {
  opacity: 1;
  transform: translateY(0);
}
.page-exit-active {
  opacity: 0;
  transform: translateY(6px);
  transition: opacity .2s ease, transform .2s ease;
}

.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus {
  left: 16px; top: 16px; width: auto; height: auto;
  background: var(--ts-primary); color: #052a2a; padding: 8px 12px; border-radius: 10px;
}

/* Layout helpers */
.ts-container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 24px;
}
.ts-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px; /* slightly tighter to avoid visible voids when fewer cards */
}
@media (min-width: 768px) {
  .ts-row.cols-2 { grid-template-columns: repeat(2, 1fr); }
  .ts-row.cols-3 { grid-template-columns: repeat(3, 1fr); }
}

/* Card with 2xl radius and glassy background */
.ts-card {
  background: var(--ts-glass);
  border: 1px solid var(--ts-glass-border);
  border-radius: var(--ts-radius-2xl);
  box-shadow: var(--ts-shadow);
  padding: 20px;
  backdrop-filter: saturate(140%) blur(8px);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
  will-change: transform;
  /* Prevent content overlap on sticky navbar contexts */
  position: relative;
}
.divider {
  height: 1px;
  background: var(--ts-border);
}
.icon-muted { color: var(--ts-text-muted); }
.ts-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 40px rgba(2,8,23,0.10);
  border-color: rgba(255,255,255,0.8);
}

/* Disable lift when users prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .ts-card,
  .btn {
    transition: none;
  }
  .ts-card:hover,
  .btn:hover {
    transform: none;
  }
}

/* Buttons */
.btn {
  appearance: none;
  border: 1px solid transparent;
  border-radius: var(--ts-radius);
  /* Enlarged padding for prominence */
  padding: 14px 22px;
  background: var(--ts-primary);
  /* Ensure accessible contrast against primary background */
  color: #052a2a;
  font-weight: 800;
  /* Larger default size */
  font-size: 16px;
  line-height: 1.1;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .22s ease, background .22s ease, border-color .22s ease, color .22s ease;
  /* Slightly stronger elevation */
  box-shadow: 0 12px 26px rgba(43,217,201,0.26);
  will-change: transform;
}
.btn:hover { transform: translateY(-2px); background: var(--ts-primary-600); }
.btn:active { transform: translateY(0); }
.btn:focus { outline: none; box-shadow: 0 0 0 4px rgba(43,217,201,0.40); }
.btn:disabled { opacity: .6; cursor: not-allowed; }

/* Secondary keeps accessible contrast and subtle elevation */
.btn.secondary {
  background: var(--ts-surface);
  color: var(--ts-text);
  border-color: var(--ts-border);
  box-shadow: var(--ts-shadow-sm);
}
.btn.secondary:hover { background: color-mix(in srgb, var(--ts-surface), rgba(96,165,250,0.08)); }

/* Warning retains distinct brand color */
.btn.warning {
  background: var(--ts-secondary);
  color: #0b0f2a;
  box-shadow: 0 10px 22px rgba(125,131,255,0.22);
}
.btn.warning:hover { background: var(--ts-secondary-600); }

/* Ghost emphasizes outline for visibility */
.btn.ghost {
  background: transparent;
  color: var(--ts-secondary);
  border-color: var(--ts-secondary);
}
.btn.ghost:hover { background: rgba(125,131,255,0.08); }

/* Social buttons (Ocean Professional variant) */
.social-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border-radius: var(--ts-radius);
  background: var(--ts-surface);
  color: var(--ts-text);
  border: 1px solid var(--ts-border);
  box-shadow: var(--ts-shadow-sm);
  padding: 12px 18px;
  font-weight: 700;
}
.social-btn--sm {
  padding: 9px 14px;
  font-size: 14px;
}
.social-btn__icon {
  width: 20px; height: 20px;
  display: inline-grid; place-items: center;
  background: #fff;
  border-radius: 6px;
}
.social-btn--google {
  /* Slight blue/amber tint ring to match Ocean Professional accents */
  border-color: rgba(37,99,235,0.25);
}
.social-btn--google:focus {
  box-shadow: 0 0 0 4px rgba(37,99,235,0.26);
}
.social-divider {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 10px;
  margin: 10px 0 14px;
  color: var(--ts-text-muted);
  font-weight: 600;
}
.social-divider::before,
.social-divider::after {
  content: '';
  height: 1px;
  background: var(--ts-border);
}

/* Progress */
.ts-progress {
  width: 100%;
  background: rgba(125,131,255,0.12);
  border-radius: 9999px;
  height: 10px;
  overflow: hidden;
  border: 1px solid var(--ts-border);
}
.ts-progress > .bar {
  height: 100%;
  background: linear-gradient(90deg, var(--ts-secondary), var(--ts-primary));
  transition: width .3s ease;
}

/* Navbar with glassy gradient */
.navbar {
  position: sticky; top: 0; z-index: 10;
  background:
    linear-gradient(to right, rgba(96,165,250,0.10), color-mix(in srgb, var(--ts-bg), rgba(255,255,255,0.08)));
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--ts-border);
}
.navbar-inner {
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px; padding: 12px 24px; max-width: 1100px; margin: 0 auto;
}
/* offset content to avoid any visual overlap due to sticky header */
main[role="main"] {
  padding-top: 2px;
}
.brand { display: flex; align-items: center; gap: 10px; font-weight: 800; color: var(--ts-text); font-family: "Outfit", "Satoshi", system-ui, -apple-system, Segoe UI, Roboto, Arial; letter-spacing: 0.2px; }
.brand-badge {
  width: 36px; height: 36px; display: inline-grid; place-items: center;
  background: radial-gradient(circle at 30% 30%, var(--ts-secondary), var(--ts-primary));
  color: #041318; border-radius: 12px; box-shadow: 0 10px 24px rgba(125,131,255,.25);
  font-size: 18px; font-weight: 800;
}
.nav-actions { display: flex; align-items: center; gap: 10px; }

/* Headings use Outfit */
.h1, .h2 {
  font-family: "Outfit", "Satoshi", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  letter-spacing: 0.1px;
}
.h1 { font-size: clamp(30px, 5vw, 44px); margin: 0 0 8px; font-weight: 800; }
.h2 { font-size: clamp(20px, 3.6vw, 28px); margin: 0 0 8px; font-weight: 700; }
.muted { color: var(--ts-text-muted); }

/* Forms */
.input, .select, .textarea {
  width: 100%;
  padding: 11px 13px;
  border-radius: var(--ts-radius-2xl);
  border: 1px solid var(--ts-border);
  background: var(--ts-surface);
  color: var(--ts-text);
  transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
  box-shadow: 0 1px 0 rgba(2,8,23,0.02) inset, 0 1px 0 rgba(2,8,23,0.03);
}
.input:focus, .select:focus, .textarea:focus {
  outline: none;
  border-color: var(--ts-secondary);
  box-shadow: 0 0 0 3px rgba(125,131,255,0.25);
}
.input[aria-invalid="true"] {
  border-color: var(--ts-error);
  box-shadow: 0 0 0 3px rgba(239,68,68,0.18);
}
.label { display: block; font-weight: 600; margin-bottom: 6px; }

/* Utilities */
.mt-2 { margin-top: 8px; }
.mt-3 { margin-top: 12px; }
.mt-4 { margin-top: 16px; }
.mt-6 { margin-top: 24px; }
.mb-2 { margin-bottom: 8px; }
.mb-4 { margin-bottom: 16px; }
.mb-6 { margin-bottom: 24px; }
.center { text-align: center; }
.grid-gap-12 { gap: 12px; }
/* Screen-reader only utility */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
  left: -9999px !important;
}

/* Landing hero with glassy gradient and playful microcopy space */
.hero {
  /* Reduce outer hero padding to bring next section above the fold */
  padding: clamp(32px, 6vw, 54px) 24px;
  background: var(--ts-hero-gradient);
}

/* New vertical main card layout (mobile-first) */
.landing-hero {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto auto auto; /* content, illustration, ctas */
  gap: 12px; /* tighter default gap */
  align-items: start;
  justify-items: center;
  padding: 14px; /* tighter inner padding on small screens */
}

/* Compact variant to be toggled via component class for extra tightening */
.landing-hero--compact {
  gap: 10px;
  padding: 12px 14px;
}

.landing-hero__media {
  width: 100%;
  margin-top: 2px; /* reduce spacing above media */
}

/* Constrain illustration height responsively while keeping aspect ratio */
.landing-hero__art,
.landing-hero__img {
  width: min(820px, 100%);
  aspect-ratio: 16/10;
  max-height: clamp(160px, 32vh, 240px); /* mobile/tablet clamp */
  border-radius: 20px; /* rounded-2xl feel */
  border: 1px solid var(--ts-border);
  box-shadow: var(--ts-shadow-sm);
  background:
    radial-gradient(circle at 30% 30%, rgba(125,131,255,.25), transparent 55%),
    radial-gradient(circle at 70% 60%, rgba(43,217,201,.28), transparent 55%),
    linear-gradient(180deg, #fff, #f8fafc);
  object-fit: contain; /* show full illustration without cropping */
  object-position: center;
  display: block;
}

.landing-hero__content {
  width: 100%;
  max-width: 720px; /* slightly tighter */
  text-align: center;
  margin-bottom: 2px; /* reduce bottom space before media */
}

.hero-ctas {
  display: flex;
  gap: 12px; /* slightly tighter */
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  margin-top: 2px; /* reduce spacing from media */
  padding-top: 0;
}

.hero-ctas .btn {
  /* keep prominent but not oversized */
  padding: 13px 20px;
  font-size: 16px;
}

@media (min-width: 600px) {
  .landing-hero {
    padding: 16px 18px;
    gap: 12px;
  }
  .landing-hero__art,
  .landing-hero__img {
    max-height: clamp(170px, 26vh, 210px); /* tighten slightly */
  }
}

@media (min-width: 900px) {
  .landing-hero {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    gap: 14px; /* keep compact spacing on desktop */
    padding: 18px 22px;
  }
  .landing-hero__content {
    text-align: center;
  }
  .landing-hero__art,
  .landing-hero__img {
    aspect-ratio: 4/3;
    max-height: clamp(190px, 22vh, 240px); /* compact desktop */
    transform: none; /* remove offset to reduce vertical footprint */
  }
}

@media (min-width: 1200px) {
  .landing-hero {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    gap: 16px;
    padding: 20px 24px; /* still compact on large desktop */
  }
  .landing-hero__art,
  .landing-hero__img {
    width: min(880px, 100%);
    max-height: clamp(200px, 24vh, 280px); /* desktop upper bound */
    margin-top: 2px;
  }
}

/* Entrance animation for hero */
.enter-hero {
  animation: ts-fade .35s ease both;
}
@media (prefers-reduced-motion: reduce) {
  .enter-hero {
    animation: none !important;
  }
}

/* Keep .hero-inner for legacy sections under hero */
.hero-inner {
  max-width: 980px; margin: 0 auto;
  display: grid; grid-template-columns: 1fr; gap: 16px;
}
@media (min-width: 860px) {
  .hero-inner { grid-template-columns: 1.2fr .8fr; }
}

/* How it works cards */
.how-card { display: block; }
.how-icon {
  display: inline-grid;
  place-items: center;
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: rgba(125,131,255,0.12);
  border: 1px solid rgba(125,131,255,0.25);
}

/* Entrance animation for hero */
.enter-hero {
  animation: ts-fade .35s ease both;
}
@media (prefers-reduced-motion: reduce) {
  .enter-hero {
    animation: none !important;
  }
}

/* Keep .hero-inner for legacy sections under hero */
.hero-inner {
  max-width: 980px; margin: 0 auto;
  display: grid; grid-template-columns: 1fr; gap: 16px;
}
@media (min-width: 860px) {
  .hero-inner { grid-template-columns: 1.2fr .8fr; }
}

/* How it works cards */
.how-card { display: block; }
.how-icon {
  display: inline-grid;
  place-items: center;
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: rgba(125,131,255,0.12);
  border: 1px solid rgba(125,131,255,0.25);
}

/* Simple card grid for recommendations */
.card-grid {
  display: grid; grid-template-columns: 1fr; gap: 16px;
}
@media (min-width: 720px) {
  .card-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 1040px) {
  .card-grid { grid-template-columns: repeat(3, 1fr); }
}

/* Accessible Modal/Dual-use Drawer */
.modal-overlay {
  position: fixed;
  inset: 0;
  /* Theme-aware overlay with stronger opacity on dark for contrast */
  background: color-mix(in srgb, var(--ts-bg), rgba(2,8,23,0.62));
  backdrop-filter: blur(6px);
  display: grid;
  place-items: center;
  padding: 16px;
  z-index: 50;
}
.modal-panel {
  width: min(820px, 96vw);
  max-height: 86vh;
  overflow: auto;
  background: var(--ts-surface);
  border: 1px solid var(--ts-border);
  border-radius: 20px;
  /* Use theme-aware shadow */
  box-shadow: var(--ts-shadow);
  display: flex;
  flex-direction: column;
  outline: none;
}
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--ts-border);
  background: linear-gradient(90deg, color-mix(in srgb, var(--ts-secondary), rgba(255,255,255,0.85)) 8%, color-mix(in srgb, var(--ts-surface), rgba(255,255,255,0.50)));
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
}
.modal-title-wrap {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.modal-body {
  padding: 16px;
}
.modal-footer {
  padding: 12px 16px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
  border-top: 1px solid var(--ts-border);
  background: color-mix(in srgb, var(--ts-surface), rgba(96,165,250,0.05));
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}

/* Feedback stars - compact buttons aligned with theme */
.feedback-star {
  width: 42px;
  padding: 10px 0;
  font-size: 18px;
  line-height: 1;
  text-align: center;
}
.feedback-star.btn.secondary:hover {
  background: rgba(125,131,255,0.08);
}
.feedback-star.btn:focus {
  box-shadow: var(--ts-focus);
}

/* Page fade */
@keyframes ts-fade {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Micro confetti utility (subtle) */
.confetti {
  background:
    radial-gradient(circle at 20% 20%, rgba(43,217,201,0.3) 0 3px, transparent 3px) 0 0/18px 18px,
    radial-gradient(circle at 80% 30%, rgba(125,131,255,0.3) 0 3px, transparent 3px) 0 0/22px 22px;
}

/* Pricing helpers */
.price {
  font-weight: 800;
  font-size: 22px;
}
.price small {
  font-weight: 600;
  color: var(--ts-text-muted);
}

/* De‑emphasized AI feature badge used in pricing (smaller, softer color) */
.ai-badge {
  /* size reductions */
  padding: 6px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 700;

  /* tone down color: softer secondary with transparency while keeping contrast */
  background: rgba(125, 131, 255, 0.14); /* softer than btn.warning/background */
  border: 1px solid rgba(125, 131, 255, 0.28);
  color: #0b0f2a; /* ensure readable text */
  box-shadow: none;
  line-height: 1.1;
}

.ai-badge--ghost {
  background: rgba(125, 131, 255, 0.10);
  border-color: rgba(125, 131, 255, 0.22);
}

.ai-badge:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(125, 131, 255, 0.28);
}

/* Responsive tweak: maintain compact look on small screens */
@media (max-width: 420px) {
  .ai-badge {
    padding: 5px 8px;
    font-size: 11px;
  }
}

/* Ensure list reset for icon lists without bullets */
.list-reset {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

/* Attribution note under hero */
.attribution-note {
  font-size: 12px;
  margin-top: 8px;
}
.attribution-note a {
  color: var(--ts-text-muted);
  text-decoration: underline;
}
